{
  "id": "dhis2-instance",
  "name": "DHIS2 Instance",
  "description": "DHIS2 Health Information Management System instance with PostgreSQL integration for the Malawi HIV/TB indicators pipeline",
  "type": "infrastructure",
  "version": "2.40.2",
  "dependencies": [],
  "environmentVariables": {
    "DHIS2_IMAGE": "dhis2/core:2.40.2.1",
    "LOCAL_DHIS2_IMAGE": "dhis2/core:local",
    "DHIS2_PORT": "8080",
    "DHIS2_REPLICAS": "1",
    "DHIS2_PLACEMENT": "node-1",
    "DHIS2_CPU_LIMIT": "2",
    "DHIS2_CPU_RESERVE": "0.5",
    "DHIS2_MEMORY_LIMIT": "4G",
    "DHIS2_MEMORY_RESERVE": "1G",
    "DHIS2_DATABASE_HOST": "postgres-1",
    "DHIS2_DATABASE_PORT": "5432",
    "DHIS2_DATABASE_NAME": "dhis2",
    "DHIS2_DATABASE_USERNAME": "dhis2",
    "DHIS2_DATABASE_PASSWORD": "instant101",
    "DHIS2_DATABASE_DRIVER": "org.postgresql.Driver",
    "DHIS2_DATABASE_DIALECT": "org.hibernate.dialect.PostgreSQLDialect",
    "DHIS2_JDBC_URL": "jdbc:postgresql://postgres-1:5432/dhis2",
    "DHIS2_ADMIN_USERNAME": "admin",
    "DHIS2_ADMIN_PASSWORD": "district",
    "DHIS2_ADMIN_EMAIL": "admin@dhis2.org",
    "DHIS2_CATALINA_OPTS": "-Xmx3000m -Xms1000m -XX:PermSize=800m -XX:MaxPermSize=1600m -Ddhis2.home=/opt/dhis2",
    "DHIS2_JAVA_OPTS": "-Djava.security.egd=file:/dev/./urandom",
    "DHIS2_BASE_URL": "http://localhost:8080",
    "DHIS2_API_URL": "http://dhis2:8080/api",
    "DHIS2_WEB_API_URL": "http://dhis2:8080/dhis-web-commons",
    "DHIS2_DEMO_DATA": "true",
    "DHIS2_IMPORT_DEMO_DATA": "true",
    "DHIS2_SKIP_ANALYTICS": "false",
    "DHIS2_SKIP_VALIDATION": "false",
    "POSTGRES_IMAGE": "postgres:15-alpine",
    "POSTGRES_USER": "postgres",
    "POSTGRES_PASSWORD": "instant101",
    "POSTGRES_DB": "postgres"
  }
}
